<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!--Generated by PHP_UML on Thu, 04 Oct 2012 14:28:38 +0200--><head>
<title>Cmp3\Misc\Exec</title>
<link rel="stylesheet" type="text/css" media="all" href="../../style.css">
</head>
<body>
<div id="navigation">
<div id="banner">
<ul class="sections">
<li><a href="../../overview-summary.html" title="Summary of all packages">Overview</a></li>
<li><a href="package-summary.html" title="Summary of Cmp3\Misc">Package</a></li>
<li class="active">Class</li>
<li><a href="../../index-all.html">Index</a></li>
</ul>
<ul class="navigFrame">
<a href="../../index.html?Cmp3/Misc/class-Exec.html" class="navigFrameElem" target="_top">FRAMES</a> <a href="class-Exec.html" class="navigFrameElem" target="_top">NO FRAMES</a>
</ul>
</div>
<ul class="siblingSections"><li><a href="class-ExecException.html">Prev Class</a></li></ul>
</div>
<div id="content">
<div class="classSummary">
<h3 id="entityPackage">Cmp3\Misc</h3>
<h1 id="entityName">Class&nbsp;Exec</h1>
<hr>public&nbsp;class&nbsp;<strong>Exec</strong><br><p>Executes a command <br>Similar to exec() a command will be executed.<br>The difference is that error codes and error output can be accessed additionally to the standard output.<br><br>Keep in mind that some programs always output something on the error channel or return exit codes that aren't any error.<br>1. use SetOnErrorOutputException() or SetOnExitCodeException() to disabled exception 2 extend class and implement own ErrorOccured() method <br>Example:<br><br>try { $scriptCall = 	$this-&gt;scriptPath. 'wkhtmltopdf-i386 ' . escapeshellarg($url) . ' ' . escapeshellarg($this-&gt;filename); <br>$objExec = new ExecProcess; $objExec-&gt;SetOnErrorOutputException(false); $objExec-&gt;Run($scriptCall); <br>} catch (Exception $e) { $content .= '&lt;p&gt;No PDF generated&lt;/p&gt;'; $content .= '&lt;p&gt;script output: ' . str_replace("\n", '&lt;br /&gt;', htmlspecialchars($objExec-&gt;GetOutput())) . '&lt;/p&gt;'; $content .= '&lt;p&gt;script error: ' . str_replace("\n", '&lt;br /&gt;', htmlspecialchars($objExec-&gt;GetErrorOutput())) . '&lt;/p&gt;'; $content .= '&lt;p&gt;script return value: ' . htmlspecialchars($objExec-&gt;GetExitCode()) . '&lt;/p&gt;'; } <br><br><br>REVIEWED 15.7.2010 RF<div></div></p>
<hr>
</div>
<div id="fieldSummary">
<h2>Field Summary</h2>
<table border="1" class="tableSummary">
<tr>
<td align="right" width="1%" valign="top"><span class="code">protected&nbsp;<a href="../../datatype-integer.html" class="linkType">integer</a> </span></td>
<td valign="top"><span class="code"><a href="#%24ExitCode" class="linkSummary">$ExitCode</a></span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">protected&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td>
<td valign="top"><span class="code"><a href="#%24Input" class="linkSummary">$Input</a></span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">protected&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td>
<td valign="top"><span class="code"><a href="#%24Output" class="linkSummary">$Output</a></span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">protected&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td>
<td valign="top"><span class="code"><a href="#%24ErrorOutput" class="linkSummary">$ErrorOutput</a></span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">protected&nbsp;<a href="../../datatype-bool.html" class="linkType">bool</a> </span></td>
<td valign="top"><span class="code"><a href="#%24blnOnErrorOutputException" class="linkSummary">$blnOnErrorOutputException</a></span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">protected&nbsp;<a href="../../datatype-bool.html" class="linkType">bool</a> </span></td>
<td valign="top"><span class="code"><a href="#%24blnOnExitCodeException" class="linkSummary">$blnOnExitCodeException</a></span></td>
</tr>
</table>
</div>
<div id="methodSummary">
<h2>Method Summary</h2>
<table border="1" class="tableSummary">
<tr>
<td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> </span></td>
<td valign="top"><span class="code"><a href="#SetOnErrorOutputException(bool%20%24blnFlag=true)" class="linkSummary">SetOnErrorOutputException</a>(<a href="../../datatype-bool.html" class="linkType">bool</a> $blnFlag=true)</span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> </span></td>
<td valign="top"><span class="code"><a href="#SetOnExitCodeException(bool%20%24blnFlag=true)" class="linkSummary">SetOnExitCodeException</a>(<a href="../../datatype-bool.html" class="linkType">bool</a> $blnFlag=true)</span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> </span></td>
<td valign="top"><span class="code"><a href="#SetInput(string%20%24strInput=null)" class="linkSummary">SetInput</a>(<a href="../../datatype-string.html" class="linkType">string</a> $strInput=null)</span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td>
<td valign="top"><span class="code"><a href="#Run(string%20%24command,%C2%A0string%20%24cwd=NULL,%C2%A0array%20%24env=NULL)" class="linkSummary">Run</a>(<a href="../../datatype-string.html" class="linkType">string</a> $command,&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $cwd=NULL,&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> $env=NULL)</span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">&nbsp;protected&nbsp;<a href="../../datatype-boolean.html" class="linkType">boolean</a> </span></td>
<td valign="top"><span class="code"><a href="#ErrorOccured()" class="linkSummary">ErrorOccured</a>()</span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">&nbsp;</span></td>
<td valign="top"><span class="code"><a href="#GetOutput()" class="linkSummary">GetOutput</a>()</span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">&nbsp;</span></td>
<td valign="top"><span class="code"><a href="#GetErrorOutput()" class="linkSummary">GetErrorOutput</a>()</span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">&nbsp;</span></td>
<td valign="top"><span class="code"><a href="#GetExitCode()" class="linkSummary">GetExitCode</a>()</span></td>
</tr>
<tr>
<td align="right" width="1%" valign="top"><span class="code">&nbsp;protected&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> </span></td>
<td valign="top"><span class="code"><a href="#fgetsPending(resource%20&amp;%24in,%C2%A0int%20%24tv_sec=10)" class="linkSummary">fgetsPending</a>(<a href="../../datatype-resource.html" class="linkType">resource</a> &amp;$in,&nbsp;<a href="../../datatype-int.html" class="linkType">int</a> $tv_sec=10)</span></td>
</tr>
</table>
</div>
<div id="fieldDetail">
<h2>Field Detail</h2>
<div class="detail" id="$ExitCode">
<h4>$ExitCode</h4>
<div class="detailContent">
<span class="code">protected&nbsp;<a href="../../datatype-integer.html" class="linkType">integer</a> <b> $ExitCode</b> = null</span><p>the exit code returned by the called program<div></div></p>
</div>
</div>
<hr>
<div class="detail" id="$Input">
<h4>$Input</h4>
<div class="detailContent">
<span class="code">protected&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> $Input</b> = null</span><p>input data which will be passed as stdin to the program<div></div></p>
</div>
</div>
<hr>
<div class="detail" id="$Output">
<h4>$Output</h4>
<div class="detailContent">
<span class="code">protected&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> $Output</b> = null</span><p>output from the program<div></div></p>
</div>
</div>
<hr>
<div class="detail" id="$ErrorOutput">
<h4>$ErrorOutput</h4>
<div class="detailContent">
<span class="code">protected&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> $ErrorOutput</b> = null</span><p>error output from the program<div></div></p>
</div>
</div>
<hr>
<div class="detail" id="$blnOnErrorOutputException">
<h4>$blnOnErrorOutputException</h4>
<div class="detailContent">
<span class="code">protected&nbsp;<a href="../../datatype-bool.html" class="linkType">bool</a> <b> $blnOnErrorOutputException</b> = true</span><p>flag indicates if an exception should be thrown on error output<div></div></p>
</div>
</div>
<hr>
<div class="detail" id="$blnOnExitCodeException">
<h4>$blnOnExitCodeException</h4>
<div class="detailContent">
<span class="code">protected&nbsp;<a href="../../datatype-bool.html" class="linkType">bool</a> <b> $blnOnExitCodeException</b> = true</span><p>flag indicates if an exception should be thrown on exit code &gt; 0<div></div></p>
</div>
</div>
<hr>
</div>
<div id="methodDetail">
<h2>Method Detail</h2>
<div class="detail" id="SetOnErrorOutputException(bool $blnFlag=true)">
<h4>SetOnErrorOutputException</h4>
<div class="detailContent">
<span class="code">public&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> <b> SetOnErrorOutputException</b>(<a href="../../datatype-bool.html" class="linkType">bool</a> $blnFlag=true)</span><p><p>Set flag that indicates if an exception should be thrown on error output</p></p>
<h3 class="titleSmallList">Parameters</h3>
<div class="smallList">
<span class="code">$blnFlag</span> - <br>
</div>
</div>
</div>
<div class="detail" id="SetOnExitCodeException(bool $blnFlag=true)">
<h4>SetOnExitCodeException</h4>
<div class="detailContent">
<span class="code">public&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> <b> SetOnExitCodeException</b>(<a href="../../datatype-bool.html" class="linkType">bool</a> $blnFlag=true)</span><p><p>Set flag that indicates if an exception should be thrown on exit code &gt; 0</p></p>
<h3 class="titleSmallList">Parameters</h3>
<div class="smallList">
<span class="code">$blnFlag</span> - <br>
</div>
</div>
</div>
<div class="detail" id="SetInput(string $strInput=null)">
<h4>SetInput</h4>
<div class="detailContent">
<span class="code">public&nbsp;<a href="../../datatype-void.html" class="linkType">void</a> <b> SetInput</b>(<a href="../../datatype-string.html" class="linkType">string</a> $strInput=null)</span><p><p>Set input data which will be passed as stdin to the program</p></p>
<h3 class="titleSmallList">Parameters</h3>
<div class="smallList">
<span class="code">$strInput</span> - <br>
</div>
</div>
</div>
<div class="detail" id="Run(string $command,&nbsp;string $cwd=NULL,&nbsp;array $env=NULL)">
<h4>Run</h4>
<div class="detailContent">
<span class="code">public&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> Run</b>(<a href="../../datatype-string.html" class="linkType">string</a> $command,&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> $cwd=NULL,&nbsp;<a href="../../datatype-array.html" class="linkType">array</a> $env=NULL)</span><p><p>Runs a command</p></p>
<h3 class="titleSmallList">Parameters</h3>
<div class="smallList">
<span class="code">$command</span> - <br><span class="code">$cwd</span> - <br><span class="code">$env</span> - <br>
</div>
</div>
</div>
<div class="detail" id="ErrorOccured()">
<h4>ErrorOccured</h4>
<div class="detailContent">
<span class="code">protected&nbsp;<a href="../../datatype-boolean.html" class="linkType">boolean</a> <b> ErrorOccured</b>()</span><p><p>Check if the command returned an error <br>This method should be changed in an extended class when the program returns very specific return codes for example.</p></p>
</div>
</div>
<div class="detail" id="GetOutput()">
<h4>GetOutput</h4>
<div class="detailContent">
<span class="code">public&nbsp;<b> GetOutput</b>()</span><p><p>Returns the output of the called command</p></p>
</div>
</div>
<div class="detail" id="GetErrorOutput()">
<h4>GetErrorOutput</h4>
<div class="detailContent">
<span class="code">public&nbsp;<b> GetErrorOutput</b>()</span><p><p>Returns the error messages of the called command</p></p>
</div>
</div>
<div class="detail" id="GetExitCode()">
<h4>GetExitCode</h4>
<div class="detailContent">
<span class="code">public&nbsp;<b> GetExitCode</b>()</span><p><p>Returns the exit code of the called command</p></p>
</div>
</div>
<div class="detail" id="fgetsPending(resource &amp;$in,&nbsp;int $tv_sec=10)">
<h4>fgetsPending</h4>
<div class="detailContent">
<span class="code">protected&nbsp;<a href="../../datatype-string.html" class="linkType">string</a> <b> fgetsPending</b>(<a href="../../datatype-resource.html" class="linkType">resource</a> &amp;$in,&nbsp;<a href="../../datatype-int.html" class="linkType">int</a> $tv_sec=10)</span><p><p>Get a pending line of data from stream $in, waiting a maximum of $tv_sec seconds</p></p>
<h3 class="titleSmallList">Parameters</h3>
<div class="smallList">
<span class="code">$in</span> - <br><span class="code">$tv_sec</span> - <br>
</div>
</div>
</div>
</div>
</div>
</body>
</html>
